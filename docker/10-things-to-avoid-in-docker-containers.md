### 容器的优点：
1. 容器是不可变的
需要确保经过QA没过的镜像与部署到生产环境的镜像是一致的

2. 容器应该是轻量的
容器进程消耗的内存要尽可能少，仅仅只分配主进程所需要的内存

3. 容器应尽可能的快
启动容器就像启动linux进程一样快，仅需要几秒钟

### 不要把容器当成虚拟机来用
容器的一个最大的特点是随时可能被丢弃(重启)


### 对于容器不应该做的事：
1. 不要在容器内保存数据
如果需要存储数据，将数据存到外部卷
同时需要注意的是，如果容器有多个实例，他们写入的文件可能发生冲突，需要避免

2. 不要往运行中的容器里安装或更新应用
容器是不可变的，应用是容器镜像的一部分，一旦创建就不应当改变
当然在开发调试阶段可以这样做，但是一旦进入QA和生产流程就不再允许

3. 不要创建过大的镜像
不要安装不需要的应用或依赖

4. 不要使用单层镜像
镜像被设计为分层结构，比如系统层，语言层，应用层等
分层的镜像更容易重建、管理和分发

5. 不要从运行中的容器创建镜像
不要使用docker commit命令创建镜像
因为这样创建出来的镜像不能重建，应该始终使用Dockerfile来创建镜像，并且确保Dockerfile的修改可追踪

6. 不要仅使用latest标签
latest标签有点类似于Maven的SNAPSHOT版本
如果只使用latest标签，当镜像被覆盖后将无法回退

7. 不要在一个容器里启动多个进程
容器被设计为只运行一个进程(http daemon, application server, database)
多个进程会使得日志获取、状态监控以及进程更新变的更复杂

8. 不要在镜像中存储密码信息，使用环境变量来存储
密码信息保存在镜像中涉及到安全问题，并且密码信息也是易变的

9. 不要用root用户启动进程
虽然默认情况下docker容器使用root用户，但是这会带来潜在的安全问题
使用USER标签来指定非root用户

10. 不要依赖于IP地址
容器有自己的内部IP地址，并且在重启的时候会发生变化
使用环境变量或其他方法来传递服务的地址

### 原文地址
https://developers.redhat.com/blog/2016/02/24/10-things-to-avoid-in-docker-containers/